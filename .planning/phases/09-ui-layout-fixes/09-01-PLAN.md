---
phase: 09-ui-layout-fixes
plan: 01
type: execute
depends_on: []
files_modified: [src/app/fillups/new/page.tsx, src/app/fillups/[id]/edit/page.tsx, src/app/import/page.tsx, src/components/BottomNav.tsx]
---

<objective>
Fix UI layout issues: submit buttons covered by bottom navigation and vehicles icon appearance on mobile.

Purpose: Improve mobile usability by ensuring action buttons are accessible and icons render properly.
Output: Fixed layout with proper button positioning and improved vehicle icon.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/ISSUES.md

**Issues being addressed:**
- "Button covered in bottom of fill up screen, ie the blue fillup button is covered by the bottom menu"
- "The icon for vehicles looks very weird when selected on mobile"

**Technical context:**
- BottomNav is fixed at bottom-0 with h-16 height + safe-area-inset padding
- Three pages have fixed submit buttons at bottom-0 that overlap with BottomNav on mobile:
  - /fillups/new/page.tsx (line 639)
  - /fillups/[id]/edit/page.tsx (line 539)
  - /import/page.tsx (line 450)
- The vehicles activeIcon SVG (BottomNav.tsx line 44-47) uses a complex filled path that doesn't render well

@src/components/BottomNav.tsx
@src/app/fillups/new/page.tsx
@src/app/fillups/[id]/edit/page.tsx
@src/app/import/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix fixed button positioning for bottom nav</name>
  <files>src/app/fillups/new/page.tsx, src/app/fillups/[id]/edit/page.tsx, src/app/import/page.tsx</files>
  <action>
Update the fixed bottom button containers in all three files to account for the bottom nav height on mobile:

1. In each file, update the fixed button div to add `md:bottom-0 bottom-16` so:
   - On mobile (< md): button sits above the h-16 bottom nav
   - On desktop (>= md): button stays at bottom-0 since BottomNav is hidden

Also add safe-area-inset handling by wrapping the button position: use `calc()` or add the same `style={{ paddingBottom: 'env(safe-area-inset-bottom, 0px)' }}` that BottomNav uses.

For mobile, the button should be at `bottom-16` (4rem = 64px, matching h-16 nav height).

Specific changes:
- Change `fixed bottom-0` to `fixed bottom-16 md:bottom-0`
- This pushes the button up by 64px on mobile to clear the nav

Note: The BottomNav already handles safe-area-inset internally, so the button just needs to clear the nav's h-16 space.
  </action>
  <verify>
Run `npm run build` to verify no TypeScript errors.
Visually: On mobile viewport (<768px), the submit button should be visible above the bottom navigation bar.
  </verify>
  <done>
All three pages have fixed buttons that clear the bottom navigation on mobile viewports.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix vehicles icon active state</name>
  <files>src/components/BottomNav.tsx</files>
  <action>
Replace the vehicles `activeIcon` SVG (lines 44-47) with a cleaner filled truck icon that renders well on mobile.

The current active icon uses a complex single-path fill that doesn't look good. Replace with a simpler, cleaner filled version that uses the same truck silhouette but with proper filled paths for wheels and body.

Use this approach: Keep the same viewBox and sizing, but use a cleaner SVG path that renders the truck as a solid filled shape. A good approach is to use a simpler car/truck icon or adjust the strokeWidth to fill more visibly.

Alternative: Use strokeWidth={2} on the existing outline icon when active (making the outline bolder) instead of trying to fill it. This often looks better for vehicle icons.

Recommended change: For the active state, use the same outline icon but with strokeWidth={2} instead of strokeWidth={1.5} to make it more prominent. This is simpler and more consistent with how the "Add" button handles active state (strokeWidth 2.5 vs 2).
  </action>
  <verify>
Build passes. Visually verify the vehicles icon looks good when selected (bolder, cleaner appearance).
  </verify>
  <done>
Vehicles icon active state renders cleanly on mobile with consistent visual weight.
  </done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] On mobile viewport: fillup, edit fillup, and import pages have submit buttons visible above bottom nav
- [ ] On mobile viewport: vehicles icon in bottom nav looks clean when active (not distorted)
- [ ] On desktop viewport: bottom nav hidden, submit buttons at page bottom as before
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript/build errors
- Fixed buttons properly clear bottom navigation on mobile
- Vehicles icon renders cleanly in both active and inactive states
- Phase 9 UI/Layout Fixes complete
</success_criteria>

<output>
After completion, create `.planning/phases/09-ui-layout-fixes/09-01-SUMMARY.md`:

# Phase 9 Plan 01: UI/Layout Fixes Summary

**[One-liner describing what shipped]**

## Accomplishments

- Fixed submit button positioning on fillup, edit, and import pages
- Improved vehicles icon active state rendering

## Files Created/Modified

- `src/app/fillups/new/page.tsx` - Fixed button positioning
- `src/app/fillups/[id]/edit/page.tsx` - Fixed button positioning
- `src/app/import/page.tsx` - Fixed button positioning
- `src/components/BottomNav.tsx` - Improved vehicles active icon

## Decisions Made

[Any decisions made during implementation]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase 9 complete, ready for Phase 10: Theme System
</output>
